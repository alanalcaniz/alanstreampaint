<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concurso</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        /* Estilos de la interfaz con escala de grises */
        body {
            font-family: Arial, sans-serif;
            background-image: url(img/back.png);
            background-color: #0f0f0f; /* Fondo negro */
            color: #f5f5f5; /* Texto color gris claro */
            text-align: center;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            font-family: "Press Start 2P", system-ui;
            font-weight: 400;
            font-style: normal;
        }

        #timer {
            font-size: 2.5em;
            color: #f5f5f5; /* Temporizador en gris claro */
            margin-bottom: 20px;
        }

        #pregunta {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .opciones-container {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Dos columnas */
            gap: 15px;
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            flex-grow: 0; /* Hacer que las opciones ocupen la parte inferior */
        }

        .opcion {
            background-color: #333; /* Color de los cuadros de las respuestas */
            color: #fff;
            border: none;
            padding: 10px 20px; /* Altura reducida */
            border-radius: 15px; /* Bordes redondeados */
            cursor: pointer;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
            font-family: "Press Start 2P", system-ui;
            font-weight: 400;
            font-style: normal;
        }

        .opcion:hover {
            background-color: #555; /* Oscurecer al pasar el cursor */
        }

        .opcion.correcta {
            background-color: #4caf50 !important; /* Verde para correcta */
        }

        .opcion.incorrecta {
            background-color: #f44336 !important; /* Rojo para incorrecta */
        }

        #siguiente {
            display: none; /* Oculto hasta que se responda una pregunta */
            background-color: #444;
            color: white;
            border: none;
            padding: 10px;
            margin-top: 40px;
            cursor: pointer;
            font-size: 1.2em;
            transition: background-color 0.3s ease;
        }

        #siguiente:hover {
            background-color: #666;
        }
    </style>
</head>
<body>
    <!-- Temporizador -->
        <div id="timer">30</div>

    <!-- Pregunta -->
    <div id="pregunta"></div>

    <!-- Opciones de respuesta en dos filas -->
    <div class="opciones-container">
        <button class="opcion" id="opcion1" onclick="verificarRespuesta(0)"></button>
        <button class="opcion" id="opcion2" onclick="verificarRespuesta(1)"></button>
        <button class="opcion" id="opcion3" onclick="verificarRespuesta(2)"></button>
        <button class="opcion" id="opcion4" onclick="verificarRespuesta(3)"></button>
    </div>

    <!-- Botón para la siguiente pregunta -->
    <div id="aciertos" style="color: green; font-size: 2em; margin-top: 100px;">Aciertos: 0</div>
    <button id="siguiente" onclick="mostrarPreguntaAleatoria()">Siguiente Pregunta</button>

    <div id="respuesta-correcta" style="margin-top: 130px; font-size: 1.5em;"></div>

    <script>
        let tiempo = 30;
        let timer;
        let preguntaActual;

        // Lista de preguntas y respuestas
        const preguntas = [
            {
                pregunta: "¿Cuál fué el main event de la Velada del Año 2?",
                opciones: ["Momo vs Viruzz", "Ampeter vs Abraham Mateo", "Jaager vs Bustamante", "Alan vs Aabrego"],
                correcta: 2
            },
            {
                pregunta: "¿En que año salió Undertale?",
                opciones: ["2015", "2016", "2010", "2009"],
                correcta: 0
            },
            {
                pregunta: "¿Por cuanto se vendió Minecraft?",
                opciones: ["700 millones", "2500 millones", "2500 millones", "2 pesos"],
                correcta: 1
            },
            {
                pregunta: "¿En Fortnite, en que pase de batalla salió Deriva?",
                opciones: ["Temporada 3, Capitulo 2", "Temporada 7, Capítulo 1", "Temporada 5, Capítulo 2", "Temporada 5, Capítulo 1"],
                correcta: 1
            },
            {
                pregunta: "¿Quién siempre gana?",
                opciones: ["Spreen", "Ibai", "Grefg", "Nil Ojeda"],
                correcta: 2
            },
            {
                pregunta: "¿Cual fué la primera legendaria en salir en Clash Royale?",
                opciones: ["Mago de Hielo", "Sabueso de Lava", "Tronco", "Leñador"],
                correcta: 0
            },
            {
                pregunta: "¿Cual fué la primera legendaria en salir en Clash Royale?",
                opciones: ["Mago de Hielo", "Sabueso de Lava", "Tronco", "Leñador"],
                correcta: 0
            },
            {
                pregunta: "¿En qué año se lanzó la PlayStation 5?",
                opciones: ["2019", "2020", "2021", "2022"],
                correcta: 1
            },
            {
                pregunta: "¿Cuál es el videojuego más vendido de la historia?",
                opciones: ["Tetris", "Minecraft", "Grand Theft Auto V", "Wii Sports"],
                correcta: 0
            },
            {
                pregunta: "¿Cuál es el nombre del último juego de la saga 'The Legend of Zelda' lanzado hasta 2024?",
                opciones: ["Breath of the Wild", "Tears of the Kingdom", "Ocarina of Time", "Majora's Mask"],
                correcta: 1
            },
            {
                pregunta: "¿Quién fundó la Kings League?",
                opciones: ["TheGrefg", "Kun Agüero", "Ibai Llanos", "Gerard Piqué"],
                correcta: 1
            },


        ];

        // Iniciar el temporizador
        function iniciarTemporizador() {
            timer = setInterval(function() {
                tiempo--;
                let timerElement = document.getElementById("timer");
                
                // Cambiar a rojo y hacer un pequeño efecto de escala en los últimos 5 segundos
                if (tiempo <= 5) {
                    timerElement.style.color = "#f44336"; // Rojo
                    timerElement.style.transform = "scale(1.5)"; // Aumenta un poco el tamaño
                    timerElement.style.transition = "transform 0.2s ease, color 0.2s ease"; // Suaviza el cambio
                } else {
                    timerElement.style.color = "#f5f5f5"; // Color original
                    timerElement.style.transform = "scale(1)"; // Tamaño original
                }

                timerElement.innerHTML = tiempo;

                if (tiempo <= 0) {
                    clearInterval(timer);
                    deshabilitarOpciones();
                    mostrarBotonSiguiente();
                }
            }, 1000);
        }


                // Mostrar una pregunta aleatoria
        function mostrarPreguntaAleatoria() {
            tiempo = 30;
            document.getElementById("timer").innerHTML = tiempo;
            document.getElementById("siguiente").style.display = "none"; // Ocultar el botón de siguiente

            // Obtener una pregunta aleatoria
            preguntaActual = preguntas[Math.floor(Math.random() * preguntas.length)];

            // Mostrar la pregunta y las opciones
            document.getElementById("pregunta").innerHTML = preguntaActual.pregunta;
            document.getElementById("opcion1").innerHTML = preguntaActual.opciones[0];
            document.getElementById("opcion2").innerHTML = preguntaActual.opciones[1];
            document.getElementById("opcion3").innerHTML = preguntaActual.opciones[2];
            document.getElementById("opcion4").innerHTML = preguntaActual.opciones[3];

            // Mostrar la respuesta correcta
            document.getElementById("respuesta-correcta").innerHTML = "Respuesta correcta: " + preguntaActual.opciones[preguntaActual.correcta];

            // Habilitar opciones
            habilitarOpciones();

            // Reiniciar el temporizador
            iniciarTemporizador();
        }


        let aciertosSeguidos = 0; // Variable para contar aciertos

// Verificar la respuesta seleccionada
function verificarRespuesta(opcionSeleccionada) {
    clearInterval(timer); // Detener el temporizador cuando se elige una opción
    if (opcionSeleccionada === preguntaActual.correcta) {
        aciertosSeguidos++; // Incrementar el contador de aciertos
        document.getElementById("opcion" + (opcionSeleccionada + 1)).classList.add("correcta");
    } else {
        aciertosSeguidos = 0; // Reiniciar el contador si la respuesta es incorrecta
        document.getElementById("opcion" + (opcionSeleccionada + 1)).classList.add("incorrecta");
        document.getElementById("opcion" + (preguntaActual.correcta + 1)).classList.add("correcta");
    }

    // Mostrar el número de aciertos en el div
    document.getElementById("aciertos").innerHTML = "Aciertos: " + aciertosSeguidos;

    deshabilitarOpciones();
    mostrarBotonSiguiente();
}


        // Deshabilitar las opciones después de una respuesta
        function deshabilitarOpciones() {
            let botones = document.getElementsByClassName("opcion");
            for (let i = 0; i < botones.length; i++) {
                botones[i].disabled = true;
                botones[i].style.cursor = "not-allowed"; // Cambiar cursor a no permitido
            }
        }

        // Habilitar las opciones antes de cada nueva pregunta
        function habilitarOpciones() {
            let botones = document.getElementsByClassName("opcion");
            for (let i = 0; i < botones.length; i++) {
                botones[i].disabled = false;
                botones[i].style.backgroundColor = "#333"; // Restaurar el color original
                botones[i].classList.remove("correcta", "incorrecta");
                botones[i].style.cursor = "pointer"; // Restaurar cursor
            }
        }

        // Mostrar el botón de siguiente pregunta
        function mostrarBotonSiguiente() {
            document.getElementById("siguiente").style.display = "inline-block";
        }

        // Iniciar el juego con una pregunta aleatoria al cargar la página
        window.onload = mostrarPreguntaAleatoria;
    </script>
</body>
</html>
